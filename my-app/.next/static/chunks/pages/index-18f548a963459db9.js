(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return __webpack_require__(2688)}])},2688:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";let fileInput;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Home}});var jsx_runtime=__webpack_require__(5893),react=__webpack_require__(7294),web3_provider=__webpack_require__(241),lib_esm=__webpack_require__(6076),alchemy_provider=__webpack_require__(9416);let UserContext=(0,react.createContext)("Home");var Container=__webpack_require__(5712),Grid=__webpack_require__(8005),Card=__webpack_require__(2256);__webpack_require__(9793);var CertifyDoc_namespaceObject=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"docHash","type":"bytes32"},{"indexed":true,"internalType":"uint256","name":"index","type":"uint256"}],"name":"CertificateIssued","type":"event"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"callCertificate","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"},{"internalType":"string","name":"","type":"string"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"certificates","outputs":[{"internalType":"bytes32","name":"docHash","type":"bytes32"},{"internalType":"address","name":"issuer","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"datetime","type":"uint256"},{"internalType":"string","name":"description","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_docHash","type":"bytes32"},{"internalType":"address","name":"_recipient","type":"address"},{"internalType":"string","name":"_description","type":"string"}],"name":"certify","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_docHash","type":"bytes32"}],"name":"checkDocHash","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_requestedAddress","type":"address"}],"name":"checkIssuer","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_docHash","type":"bytes32"}],"name":"checkOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_requestedAddress","type":"address"}],"name":"checkRecipient","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"docHashMap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"docHashOwnerMap","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"issuerMap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"recipientMap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"revokeCertificate","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Button=__webpack_require__(967),Menu=__webpack_require__(3272);let NavBar=param=>{let{connectWallet,changeNetwork}=param,{tab,setTab,walletAddress,ensName}=(0,react.useContext)(UserContext);return(0,jsx_runtime.jsxs)(Menu.Z,{children:[(0,jsx_runtime.jsx)(Menu.Z.Item,{name:"Home",active:"Home"===tab,onClick:()=>setTab("Home"),children:"Home"}),(0,jsx_runtime.jsx)(Menu.Z.Item,{name:"About",active:"About"===tab,onClick:()=>setTab("About")}),(0,jsx_runtime.jsx)(Grid.Z,{container:!0,columns:1,children:(0,jsx_runtime.jsx)(Grid.Z.Row,{centered:!0,children:(0,jsx_runtime.jsxs)(Menu.Z,{secondary:!0,children:[(0,jsx_runtime.jsx)(Menu.Z.Item,{name:"Check Document",active:"DocHash_Certs"===tab,onClick:()=>setTab("DocHash_Certs")}),(0,jsx_runtime.jsx)(Menu.Z.Item,{name:"Check Certificates Issued",active:"Issued_Certs"===tab,onClick:()=>setTab("Issued_Certs")}),(0,jsx_runtime.jsx)(Menu.Z.Item,{name:"Check Certificates Received",active:"Received_Certs"===tab,onClick:()=>setTab("Received_Certs")}),(0,jsx_runtime.jsx)(Menu.Z.Item,{name:"Certify Document",active:"Certify"===tab,onClick:()=>setTab("Certify")})]})})}),(0,jsx_runtime.jsx)(Menu.Z.Item,{children:walletAddress?"wrongNetwork"==walletAddress?(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Button.Z,{basic:!0,color:"red",children:"Incorrect network. Please change to Goerli."})}):ensName?(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(Button.Z,{basic:!0,color:"green",children:["Connected to: ",ensName]})}):(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(Button.Z,{basic:!0,color:"green",children:["Connected to: ",walletAddress.substring(0,5),"...",walletAddress.substring(38,42)]})}):(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(Button.Z,{primary:!0,onClick:connectWallet,children:"Connect to wallet (Currently in read only mode)"})})})]})};var Segment=__webpack_require__(4623),Header=__webpack_require__(3623);let Messages=()=>{let{message,setMessage}=(0,react.useContext)(UserContext),content={};return"invisible"===message&&(content={color:"green",primary:"...",secondary:"...",visible:!1}),message.length>20&&(content={color:"red",error:message,visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"wrongNetwork"===message&&(content={color:"red",primary:"Change the network to Goerli.",secondary:"This is a test app that runs on the Goerli test network.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"notConnected"===message&&(content={color:"red",primary:"Please connect your wallet.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"MetamaskNotInstalled"===message&&(content={color:"red",primary:"Please install MetaMask.",secondary:"This is a test app that only runs with MetaMask. It seems your browser does not have MetaMask installed.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"warningTestApp"===message&&(content={color:"red",primary:"Warning: this is a test dapp.",secondary:"It only runs on the Goerli test network.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"errorUpload"===message&&(content={color:"red",primary:"Unable to upload certificate. Are you connected to an Ethereum wallet?",secondary:"Uploading certificates is only possible when connected to an Ethereum wallet through MetaMask.",visible:!0}),"uploadInProgress"===message&&(content={color:"blue",primary:"Currently uploading certificate to the blockchain.",secondary:"This can take a few minutes.",visible:!0}),"uploadSuccessful"===message&&(content={color:"green",primary:"Upload succesfull",secondary:"Your certificate has been succesfully uploaded to the Ethereum blockchain",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"revokeInProgress"===message&&(content={color:"blue",primary:"Currently revoking certificate.",secondary:"This can take a few minutes.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"revokeSuccessful"===message&&(content={color:"green",primary:"Revoke succesfull.",secondary:"Your certificate has been succesfully revoked.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"noUserInput"===message&&(content={color:"red",primary:"No user input provided",secondary:"Please insert an address or document.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),"invalidUserInput"===message&&(content={color:"red",primary:"Invaled user input provided",secondary:"Please insert a valid address or document.",visible:!0},setTimeout(()=>{setMessage("invisible")},5e3)),(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",color:content.color,style:{marginTop:".5em",fontSize:"large",opacity:content.visible?"100%":"0%"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h3",color:content.color,style:{marginBottom:".5em"},children:content.primary}),content.secondary," ",(0,jsx_runtime.jsx)("br",{}),content.error?"Full error message: ".concat(content.error):null]})})},FrontPage=()=>{let{tab,setTab}=(0,react.useContext)(UserContext),leftSidePage=(0,jsx_runtime.jsx)(Container.Z,{className:"userInputBox",children:(0,jsx_runtime.jsxs)(Segment.Z,{basic:!0,textAlign:"right",style:{marginBottom:"3em",marginTop:".5em",fontSize:"large",color:"none"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h1",content:"Certify.doc",style:{fontSize:"4em",fontWeight:"normal",marginBottom:0,color:"white"}}),(0,jsx_runtime.jsx)(Header.Z,{as:"h2",content:"Providing immutable certifications of documentsâ€™ authenticity. Built on the Ethereum blockchain.",style:{fontSize:"1.7em",fontWeight:"normal",marginTop:"1.5em",color:"white"}}),(0,jsx_runtime.jsx)(Button.Z,{primary:!0,size:"huge",onClick:()=>setTab("About"),style:{marginTop:"3.1rem"},children:"Find out more"})]})}),rigthSidePage=(0,jsx_runtime.jsx)(Container.Z,{className:"userInputBox",children:(0,jsx_runtime.jsxs)(Segment.Z,{basic:!0,textAlign:"left",style:{marginBottom:"3em",marginTop:"2em",fontSize:"large",color:"none"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h1",content:"social authority on the blockchain",style:{fontWeight:"normal",marginBottom:0,color:"white"}}),(0,jsx_runtime.jsxs)(Header.Z,{as:"h2",style:{fontWeight:"normal",marginTop:"1.4em",color:"white"},children:["Certify.doc enables people and organisations to vouch for the authenticity of documents.",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),"It issues certificates of authenticity that are immutable, non-tradable and revokable.",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),"Checking the authenticy of a document is as easy as submitting a document."]}),(0,jsx_runtime.jsx)(Button.Z,{primary:!0,size:"huge",onClick:()=>setTab("DocHash_Certs"),style:{marginTop:".9rem"},children:"Check Authenticity"})]})});if("Home"==tab)return(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Grid.Z,{padded:!0,children:[(0,jsx_runtime.jsx)(Grid.Z.Column,{width:"8",children:leftSidePage}),(0,jsx_runtime.jsx)(Grid.Z.Column,{width:"8",children:rigthSidePage})]})})},AboutPage=()=>{let{tab,setTab,heightComponent}=(0,react.useContext)(UserContext);if("About"==tab)return(0,jsx_runtime.jsx)(Container.Z,{className:"userInputBox",children:(0,jsx_runtime.jsxs)(Segment.Z,{basic:!0,textAlign:"left",style:{fontSize:"large"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h1",content:"Certify.doc: social authority on the blockchain",style:{fontWeight:"normal",marginBottom:0,color:"white"}}),(0,jsx_runtime.jsxs)(Container.Z,{style:{marginTop:"1.5em",color:"white"},children:["Certify.doc provides a single utility: It issues a record on the ethereum blockchain that relates two addresses (an issuer and recipient) to an offline document. These records are immutable, non-tradable and revokable. They are similar to non-fungible tokens (NFTs) but have a a few important differences.",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),"Certificates of authenticity",(0,jsx_runtime.jsx)("li",{children:" cannot be traded or exchanged. They can only revoked."}),(0,jsx_runtime.jsx)("li",{children:" are accessed by uploading the original document. They are readily accesible to those that are not familiar with blockchain technology."}),(0,jsx_runtime.jsx)("br",{}),"Some possible use cases are",(0,jsx_runtime.jsx)("li",{children:" Educators that certify the authenticity of their degrees."}),(0,jsx_runtime.jsx)("li",{children:" Employers that certify authenticy of employers statements."}),(0,jsx_runtime.jsx)("li",{children:" Individuals that authenticate their wills. "}),(0,jsx_runtime.jsx)("br",{}),"In brief, certify.doc relates the social authority behind an ethereum address to a digital document, and expresses a relationship between two social actors.",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),"Check out the github repository for the react frontend and solidity backend."]})]})})};var Icon=__webpack_require__(5150),Form=__webpack_require__(5538),keccak256_lib_esm=__webpack_require__(8197),utf8=__webpack_require__(9251);let CheckCertificates=param=>{let{handleSubmit}=param,{setUserInput,tab,loading}=(0,react.useContext)(UserContext),changeHandler=async e=>{let result;fileInput=e.target.files[0];let fileReader=!1;(fileReader=new FileReader).readAsDataURL(fileInput),fileReader.onload=function(){result=fileReader.result,setUserInput(keccak256_lib_esm.w(utf8.Y0(result)))}};return"Issued_Certs"==tab||"Received_Certs"==tab?(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Segment.Z,{placeholder:!0,textAlign:"center",style:{marginBottom:"3em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h2",children:"Issued_Certs"==tab?"What certificates did an Eth address issue?":"What certificates did an Eth address receive?"}),(0,jsx_runtime.jsx)(Container.Z,{textAlign:"center",children:"Issued_Certs"==tab?(0,jsx_runtime.jsx)(Icon.Z,{name:"user outline",size:"huge",style:{marginTop:".2em",marginBottom:".5em"}}):(0,jsx_runtime.jsx)(Icon.Z,{name:"checkmark",size:"huge",style:{marginTop:".2em",marginBottom:".5em"}})}),(0,jsx_runtime.jsxs)(Form.Z,{onSubmit:handleSubmit,children:[(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 1: Provide an Ethereum address"}),(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Ethereum adress: 0x00...",onChange:e=>setUserInput(e.target.value)})]}),(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 2: Submit address"}),(0,jsx_runtime.jsx)(Button.Z,{fluid:!0,primary:!0,loading:"loading"==loading,style:{marginBottom:".5em",marginTop:"1em",textAlign:"center",fontSize:"medium"},children:"Submit Address"})]}),(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 3: Check the resulting certificate(s)."}),(0,jsx_runtime.jsx)(Icon.Z,{name:"arrow circle right",color:"blue",size:"big"})]})]})]})}):"DocHash_Certs"==tab?(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Segment.Z,{placeholder:!0,textAlign:"center",style:{marginBottom:"3em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h2",content:"Has a document been certified as authentic?"}),(0,jsx_runtime.jsx)(Container.Z,{textAlign:"center",children:(0,jsx_runtime.jsx)(Icon.Z,{name:"file image outline",size:"huge",style:{marginTop:".2em",marginBottom:"-.2em"}})}),(0,jsx_runtime.jsxs)(Form.Z,{onSubmit:handleSubmit,children:[(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 1: Select a file"}),(0,jsx_runtime.jsxs)(Container.Z,{fluid:!0,children:[(0,jsx_runtime.jsx)("input",{className:"custom-file-input",type:"file",single:"true",onChange:changeHandler,style:{marginBottom:"0.5em"}}),"The document will not be saved in your browser or uploaded to a server."]})]}),(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 2: Submit Document"}),(0,jsx_runtime.jsx)(Button.Z,{primary:!0,loading:"loading"==loading,style:{marginBottom:".5em",marginTop:".0em",textAlign:"center",fontSize:"medium"},children:"Submit Document"})]}),(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 3: Check the resulting certificate(s)."}),(0,jsx_runtime.jsx)(Icon.Z,{name:"arrow circle right",color:"blue",size:"big"})]})]})]})}):void 0},RenderCertificate=param=>{let{certificate,revokeCertificate}=param,{loading,walletAddress}=(0,react.useContext)(UserContext);return(console.log("certificate.id:",certificate.id),0===certificate.id&&"empty"===certificate.description)?(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Segment.Z,{placeholder:!0,color:"red",textAlign:"left",style:{marginBottom:".5em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h3",content:"No Certificate Found"}),(0,jsx_runtime.jsxs)(Segment.Z,{style:{marginBottom:".5em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Why did I not find a certificate?"}),(0,jsx_runtime.jsxs)(Container.Z,{children:["If you did expect a certificate, a few things might have happened:",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("li",{children:"The address has been mispelled or the uploaded document is not the original."}),(0,jsx_runtime.jsx)("li",{children:"The certificate was not succesfully uploaded."}),(0,jsx_runtime.jsx)("li",{children:"The certificate was revoked."}),(0,jsx_runtime.jsx)("li",{children:"There is a bug in the application."})]})]})]})}):"0x0000000000000000000000000000000000000000"!=certificate.issuer?(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Segment.Z,{placeholder:!0,color:"green",textAlign:"left",style:{marginBottom:".5em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h3",content:"Certificate No. ".concat(certificate.id)}),(0,jsx_runtime.jsx)(Segment.Z,{style:{marginBottom:".5em",marginTop:".5em"},children:(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Issued on ".concat(certificate.dateTime)})}),(0,jsx_runtime.jsxs)(Segment.Z,{style:{marginBottom:".5em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",style:{marginBottom:".3em"},content:certificate.issuerEns?"Issuer: ".concat(certificate.issuerEns):"Issuer"}),(0,jsx_runtime.jsx)(Container.Z,{content:"Eth Address: ".concat(certificate.issuer)})]}),"0x0000000000000000000000000000000000000000"===certificate.recipient?null:(0,jsx_runtime.jsxs)(Segment.Z,{style:{marginBottom:".5em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",style:{marginBottom:".3em"},content:certificate.recipientEns?"Recipient: ".concat(certificate.recipientEns):"Recipient"}),(0,jsx_runtime.jsx)(Container.Z,{content:"Eth Address: ".concat(certificate.recipient)})]}),""===certificate.description?null:(0,jsx_runtime.jsxs)(Segment.Z,{style:{marginBottom:".5em",marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",style:{marginBottom:".3em"},content:"Description"}),(0,jsx_runtime.jsx)(Container.Z,{content:certificate.description})]}),certificate.issuer==walletAddress||certificate.recipient==walletAddress?(0,jsx_runtime.jsx)(Button.Z,{basic:!0,fluid:!0,color:"red",style:{marginBottom:".5em",marginTop:"1em"},content:"revoke",onClick:revokeCertificate,loading:loading===certificate.id}):null]})}):void 0},recipientInput="0x0000000000000000000000000000000000000000",descriptionInput=" ",IssueCertificate=param=>{let{certify}=param,{tab,loading,userInput,setUserInput,setMessage}=(0,react.useContext)(UserContext),changeHandler=async e=>{let fileInput=e.target.files[0],fileReader=!1;(fileReader=new FileReader).readAsDataURL(fileInput),fileReader.onload=function(){let result=fileReader.result;setUserInput(keccak256_lib_esm.w(utf8.Y0(result)))}},onSubmit=async e=>{certify([userInput,recipientInput,descriptionInput])};if("Certify"===tab)return(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Grid.Z,{padded:!0,children:[(0,jsx_runtime.jsx)(Grid.Z.Column,{width:"8",children:(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Segment.Z,{placeholder:!0,textAlign:"center",style:{marginTop:".5em"},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h2",content:"Issue your own certificate of authenticity"}),(0,jsx_runtime.jsx)(Container.Z,{textAlign:"center",children:(0,jsx_runtime.jsx)(Icon.Z,{name:"file image outline",size:"huge",style:{marginTop:".2em",marginBottom:"-.3em"}})}),(0,jsx_runtime.jsx)(Form.Z,{children:(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 1: Select a file"}),(0,jsx_runtime.jsxs)(Container.Z,{fluid:!0,children:[(0,jsx_runtime.jsx)("input",{className:"custom-file-input",type:"file",single:"true",onChange:changeHandler,style:{marginBottom:"0.5em",fontSize:"medium"}}),"The document will not be saved in your browser or uploaded to a server."]})]})})]})})}),(0,jsx_runtime.jsx)(Grid.Z.Column,{width:"8",children:(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsx)(Segment.Z,{textAlign:"left",style:{fontSize:"medium",marginTop:".5em"},children:(0,jsx_runtime.jsxs)(Form.Z,{onSubmit:onSubmit,style:{fontSize:"medium"},children:[(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 2: Create Unique Document Identifier (automatic)"}),userInput?(0,jsx_runtime.jsx)(Segment.Z,{color:"green",style:{fontSize:"medium",overflowWrap:"break-word"},children:userInput}):(0,jsx_runtime.jsx)(Segment.Z,{color:"red",style:{fontSize:"medium",color:"lightGrey"},children:"Unique document identifier."})]}),(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 3: Add a recipient address (optional)"}),(0,jsx_runtime.jsx)(Form.Z.Field,{style:{marginTop:"1em",fontSize:"medium"},children:(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Ethereum adress: 0x00...",onChange:e=>recipientInput=e.target.value})})]}),(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 4: Add a brief description (optional)"}),(0,jsx_runtime.jsx)(Form.Z.Field,{style:{marginTop:"1em",fontSize:"medium"},children:(0,jsx_runtime.jsx)("input",{type:"text",placeholder:"Content of document.",onChange:e=>descriptionInput=e.target.value})})]}),(0,jsx_runtime.jsxs)(Segment.Z,{textAlign:"center",style:{},children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h4",content:"Step 5: Upload Certificate"}),(0,jsx_runtime.jsx)(Form.Z.Field,{style:{marginTop:"1em"},children:(0,jsx_runtime.jsx)(Button.Z,{fluid:!0,primary:!0,type:"submit",loading:null!=loading,disabled:!userInput,style:{fontSize:"medium"},children:"Upload certificate to the ethereum blockchain"})})]})]})})})})]})})};function Home(){let contractAddress="0xB4AfD5AA80a7D8e01BF3e7F3C8E3917a1De3790f",abi=CertifyDoc_namespaceObject.Mt,apiKey="CBr2qzLP-lXUxJFiPwPZvLJIGrv-mMt-",[tab,setTab]=(0,react.useState)("Home"),[heightComponent,setHeightComponent]=(0,react.useState)("Home"),[loading,setLoading]=(0,react.useState)(),[message,setMessage]=(0,react.useState)("invisible"),[walletAddress,setWalletAddress]=(0,react.useState)(null),[ensName,setEnsName]=(0,react.useState)(null),[userInput,setUserInput]=(0,react.useState)(""),[certificatesArray,setCertificatesArray]=(0,react.useState)(null),isWalletConnected=async()=>{try{let{ethereum}=window,accounts=await ethereum.request({method:"eth_accounts"}),provider=new web3_provider.Q(ethereum,"any");if(accounts.length>0){let{chainId}=await provider.getNetwork(),ens=await provider.lookupAddress(accounts[0]);5==chainId&&(setWalletAddress(accounts),ens&&setEnsName(ens),console.log("walletAddress:",walletAddress,"ens: ",ens)),5!=chainId&&(setMessage("wrongNetwork"),setWalletAddress("wrongNetwork"))}else console.log("No connected wallet.")}catch(error){console.log("error: ",error)}},connectWallet=async()=>{try{let{ethereum}=window;ethereum||setMessage("MetamaskNotInstalled");let accounts=await ethereum.request({method:"eth_requestAccounts"}),provider=new web3_provider.Q(ethereum,"any"),{chainId}=await provider.getNetwork(),ens=await provider.lookupAddress(accounts[0]);5==chainId?(setWalletAddress(accounts),ens&&setEnsName(ens),console.log("walletAddress:",walletAddress,"ens: ",ens)):(setMessage("wrongNetwork"),setWalletAddress("wrongNetwork"))}catch(error){console.log(error)}},changeNetwork=async()=>{try{let{ethereum}=window;ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x5",rpcUrls:["https://eth-goerli.g.alchemy.com/v2/"],chainName:"Goerli Test Network",nativeCurrency:{name:"GoerliETH",symbol:"GoerliETH",decimals:18},blockExplorerUrls:["https://goerli.etherscan.io"]}]})}catch(error){console.log(error)}},certify=async userInput=>{setLoading("upload");try{let{ethereum}=window;if(ethereum){let provider=new web3_provider.Q(ethereum,"any"),signer=provider.getSigner(),dcContract=new lib_esm.CH(contractAddress,abi,signer),tx=await dcContract.certify(userInput[0],userInput[1],userInput[2]);setMessage("uploadInProgress"),await tx.wait(),setMessage("uploadSuccessful")}else setMessage("errorUpload")}catch(err){setMessage("errorUpload"),console.error(err.message)}setLoading(null)},revokeCertificate=async index=>{setLoading(index);try{let{ethereum}=window;if(ethereum){let provider=new web3_provider.Q(ethereum,"any"),signer=provider.getSigner(),dcContract=new lib_esm.CH(contractAddress,abi,signer),tx=await dcContract.revokeCertificate(index);setMessage("revokeInProgress"),await tx.wait()}}catch(err){console.error(err.message)}setMessage("revokeSuccessful"),setLoading(null)},checkDocHash=async userInput=>{try{let provider=new alchemy_provider.D(5,apiKey),dcContract=new lib_esm.CH(contractAddress,abi,provider),certificateIndex=await dcContract.checkDocHash(userInput);return certificateIndex}catch(err){console.error(err.message)}},checkIssuer=async userInput=>{try{let provider=new alchemy_provider.D(5,apiKey),dcContract=new lib_esm.CH(contractAddress,abi,provider),certificateIndex=await dcContract.checkIssuer(userInput);return certificateIndex}catch(err){console.error(err.message)}},checkRecipient=async userInput=>{try{let provider=new alchemy_provider.D(5,apiKey),dcContract=new lib_esm.CH(contractAddress,abi,provider),certificateIndex=await dcContract.checkRecipient(userInput);return certificateIndex}catch(err){console.error(err.message)}},callCertificate=async index=>{try{let provider=new alchemy_provider.D(5,apiKey),dcContract=new lib_esm.CH(contractAddress,abi,provider),data=await dcContract.callCertificate(parseInt(index)),dateTimeObj=new Date(parseInt(1e3*data[4])),issuerEns=await provider.lookupAddress(data[1]),recipientEns=await provider.lookupAddress(data[2]),certificate={id:index,docHash:data[0],issuer:data[1],issuerEns:issuerEns,recipient:data[2],recipientEns:recipientEns,description:data[3],dateTime:new Intl.DateTimeFormat("en-GB",{dateStyle:"full"}).format(dateTimeObj)};return certificate}catch(err){console.error(err.message)}},handleSubmit=async e=>{e.preventDefault(),setLoading("loading");let certificates=[],data=[];"Issued_Certs"==tab&&(data=await checkIssuer(userInput)),"Received_Certs"==tab&&(data=await checkRecipient(userInput)),"DocHash_Certs"==tab&&(data=await checkDocHash(userInput));try{0===data.length&&certificates.push({id:0,description:"empty"});for(let i=0;i<data.length;i++)certificates.push(await callCertificate(parseInt(data[i])))}catch(err){setMessage("invalidUserInput")}setCertificatesArray(certificates),setLoading(null),setUserInput("")};return(0,react.useEffect)(()=>{setMessage("warningTestApp"),isWalletConnected(),document.body.style.backgroundImage="conic-gradient(from 90deg at 10% 15%, CornflowerBlue, fuchsia, salmon, CornflowerBlue)",setHeightComponent("".concat(Math.round(.38*document.documentElement.clientWidth),"px"))},[]),(0,react.useEffect)(()=>{setCertificatesArray(null),setUserInput("")},[tab]),(0,react.useEffect)(()=>{setUserInput("")},[certificatesArray]),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)(UserContext.Provider,{value:{tab,setTab,heightComponent,ensName,loading,setLoading,userInput,setUserInput,message,setMessage,walletAddress},children:[(0,jsx_runtime.jsx)(NavBar,{connectWallet:connectWallet,changeNetwork:changeNetwork}),(0,jsx_runtime.jsx)(Messages,{}),(0,jsx_runtime.jsx)(FrontPage,{}),(0,jsx_runtime.jsx)(AboutPage,{}),(0,jsx_runtime.jsx)(IssueCertificate,{certify:certify}),"DocHash_Certs"==tab||"Issued_Certs"==tab||"Received_Certs"==tab?(0,jsx_runtime.jsx)(Container.Z,{children:(0,jsx_runtime.jsxs)(Grid.Z,{padded:!0,children:[(0,jsx_runtime.jsx)(Grid.Z.Column,{width:"8",children:(0,jsx_runtime.jsx)(CheckCertificates,{handleSubmit:handleSubmit})}),(0,jsx_runtime.jsx)(Grid.Z.Column,{width:"8",children:(0,jsx_runtime.jsx)(Card.Z.Group,{style:{marginTop:".1em",height:heightComponent,overflowY:"auto"},children:certificatesArray?certificatesArray.map(certificate=>(0,jsx_runtime.jsx)(RenderCertificate,{certificate:certificate,revokeCertificate:()=>revokeCertificate(certificate.id)},certificate.id)):[null]})})]})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})]})})}},6601:function(){}},function(__webpack_require__){__webpack_require__.O(0,[457,649,774,888,179],function(){return __webpack_require__(__webpack_require__.s=5557)}),_N_E=__webpack_require__.O()}]);